{
  "version": 3,
  "sources": ["../../three/examples/jsm/tsl/display/RGBShiftNode.js"],
  "sourcesContent": ["import { TempNode } from 'three/webgpu';\nimport { nodeObject, Fn, uv, uniform, vec2, sin, cos, vec4, convertToTexture } from 'three/tsl';\n\n/**\n * Post processing node for shifting/splitting RGB color channels. The effect\n * separates color channels and offsets them from each other.\n *\n * @augments TempNode\n * @three_import import { rgbShift } from 'three/addons/tsl/display/RGBShiftNode.js';\n */\nclass RGBShiftNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'RGBShiftNode';\n\n\t}\n\n\t/**\n\t * Constructs a new RGB shift node.\n\t *\n\t * @param {TextureNode} textureNode - The texture node that represents the input of the effect.\n\t * @param {number} [amount=0.005] - The amount of the RGB shift.\n\t * @param {number} [angle=0] - Defines the orientation in which colors are shifted.\n\t */\n\tconstructor( textureNode, amount = 0.005, angle = 0 ) {\n\n\t\tsuper( 'vec4' );\n\n\t\t/**\n\t\t * The texture node that represents the input of the effect.\n\t\t *\n\t\t * @type {TextureNode}\n\t\t */\n\t\tthis.textureNode = textureNode;\n\n\t\t/**\n\t\t * The amount of the RGB shift.\n\t\t *\n\t\t * @type {UniformNode<float>}\n\t\t */\n\t\tthis.amount = uniform( amount );\n\n\t\t/**\n\t\t * Defines in which direction colors are shifted.\n\t\t *\n\t\t * @type {UniformNode<float>}\n\t\t */\n\t\tthis.angle = uniform( angle );\n\n\t}\n\n\t/**\n\t * This method is used to setup the effect's TSL code.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {ShaderCallNodeInternal}\n\t */\n\tsetup( /* builder */ ) {\n\n\t\tconst { textureNode } = this;\n\n\t\tconst uvNode = textureNode.uvNode || uv();\n\n\t\tconst sampleTexture = ( uv ) => textureNode.sample( uv );\n\n\t\tconst rgbShift = Fn( () => {\n\n\t\t\tconst offset = vec2( cos( this.angle ), sin( this.angle ) ).mul( this.amount );\n\t\t\tconst cr = sampleTexture( uvNode.add( offset ) );\n\t\t\tconst cga = sampleTexture( uvNode );\n\t\t\tconst cb = sampleTexture( uvNode.sub( offset ) );\n\n\t\t\treturn vec4( cr.r, cga.g, cb.b, cga.a );\n\n\t\t} );\n\n\t\treturn rgbShift();\n\n\t}\n\n}\n\nexport default RGBShiftNode;\n\n/**\n * TSL function for creating a RGB shift or split effect for post processing.\n *\n * @tsl\n * @function\n * @param {Node<vec4>} node - The node that represents the input of the effect.\n * @param {number} [amount=0.005] - The amount of the RGB shift.\n * @param {number} [angle=0] - Defines in which direction colors are shifted.\n * @returns {RGBShiftNode}\n */\nexport const rgbShift = ( node, amount, angle ) => nodeObject( new RGBShiftNode( convertToTexture( node ), amount, angle ) );\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAUA,IAAM,eAAN,cAA2B,SAAS;AAAA,EAEnC,WAAW,OAAO;AAEjB,WAAO;AAAA,EAER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,YAAa,aAAa,SAAS,MAAO,QAAQ,GAAI;AAErD,UAAO,MAAO;AAOd,SAAK,cAAc;AAOnB,SAAK,SAAS,QAAS,MAAO;AAO9B,SAAK,QAAQ,QAAS,KAAM;AAAA,EAE7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAuB;AAEtB,UAAM,EAAE,YAAY,IAAI;AAExB,UAAM,SAAS,YAAY,UAAU,GAAG;AAExC,UAAM,gBAAgB,CAAEA,QAAQ,YAAY,OAAQA,GAAG;AAEvD,UAAMC,YAAW,GAAI,MAAM;AAE1B,YAAM,SAAS,KAAM,IAAK,KAAK,KAAM,GAAG,IAAK,KAAK,KAAM,CAAE,EAAE,IAAK,KAAK,MAAO;AAC7E,YAAM,KAAK,cAAe,OAAO,IAAK,MAAO,CAAE;AAC/C,YAAM,MAAM,cAAe,MAAO;AAClC,YAAM,KAAK,cAAe,OAAO,IAAK,MAAO,CAAE;AAE/C,aAAO,KAAM,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,CAAE;AAAA,IAEvC,CAAE;AAEF,WAAOA,UAAS;AAAA,EAEjB;AAED;AAEA,IAAO,uBAAQ;AAYR,IAAM,WAAW,CAAE,MAAM,QAAQ,UAAW,WAAY,IAAI,aAAc,iBAAkB,IAAK,GAAG,QAAQ,KAAM,CAAE;",
  "names": ["uv", "rgbShift"]
}
