{
  "version": 3,
  "sources": ["../../three/examples/jsm/tsl/display/BleachBypass.js"],
  "sourcesContent": ["import { float, Fn, vec3, vec4, min, max, mix, luminance } from 'three/tsl';\n\n/**\n * Applies a bleach bypass effect to the given color node.\n *\n * @tsl\n * @function\n * @param {Node<vec4>} color - The color node to apply the sepia for.\n * @param {Node<float>} [opacity=1] - Influences how strong the effect is blended with the original color.\n * @return {Node<vec4>} The updated color node.\n */\nexport const bleach = /*@__PURE__*/ Fn( ( [ color, opacity = 1 ] ) => {\n\n\tconst base = color;\n\tconst lum = luminance( base.rgb );\n\tconst blend = vec3( lum );\n\n\tconst L = min( 1.0, max( 0.0, float( 10.0 ).mul( lum.sub( 0.45 ) ) ) );\n\n\tconst result1 = blend.mul( base.rgb ).mul( 2.0 );\n\tconst result2 = float( 2.0 ).mul( blend.oneMinus() ).mul( base.rgb.oneMinus() ).oneMinus();\n\n\tconst newColor = mix( result1, result2, L );\n\n\tconst A2 = base.a.mul( opacity );\n\n\tconst mixRGB = A2.mul( newColor.rgb );\n\n\tmixRGB.addAssign( base.rgb.mul( A2.oneMinus() ) );\n\n\treturn vec4( mixRGB, base.a );\n\n} );\n"],
  "mappings": ";;;;;;;;;;;;;;;AAWO,IAAM,SAAuB,GAAI,CAAE,CAAE,OAAO,UAAU,CAAE,MAAO;AAErE,QAAM,OAAO;AACb,QAAM,MAAM,UAAW,KAAK,GAAI;AAChC,QAAM,QAAQ,KAAM,GAAI;AAExB,QAAM,IAAI,IAAK,GAAK,IAAK,GAAK,MAAO,EAAK,EAAE,IAAK,IAAI,IAAK,IAAK,CAAE,CAAE,CAAE;AAErE,QAAM,UAAU,MAAM,IAAK,KAAK,GAAI,EAAE,IAAK,CAAI;AAC/C,QAAM,UAAU,MAAO,CAAI,EAAE,IAAK,MAAM,SAAS,CAAE,EAAE,IAAK,KAAK,IAAI,SAAS,CAAE,EAAE,SAAS;AAEzF,QAAM,WAAW,IAAK,SAAS,SAAS,CAAE;AAE1C,QAAM,KAAK,KAAK,EAAE,IAAK,OAAQ;AAE/B,QAAM,SAAS,GAAG,IAAK,SAAS,GAAI;AAEpC,SAAO,UAAW,KAAK,IAAI,IAAK,GAAG,SAAS,CAAE,CAAE;AAEhD,SAAO,KAAM,QAAQ,KAAK,CAAE;AAE7B,CAAE;",
  "names": []
}
